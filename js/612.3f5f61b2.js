(globalThis["webpackChunkfilmore_quasar_boilerplate"]=globalThis["webpackChunkfilmore_quasar_boilerplate"]||[]).push([[612],{523:(e,t,s)=>{e.exports=s.p+"img/BAGONG_PILIPINAS_LOGO.ce2d0c83.png"},3817:(e,t,s)=>{e.exports=s.p+"img/DAlogo.5541640e.png"},9612:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Yt});var o=s(1758);const i={class:"row q-col-gutter-md"},l={class:"col-12 q-ma-xl"};function a(e,t,s,a,r,n){const d=(0,o.g2)("RegisterBeneficiaryForm"),c=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(c,{class:"flex flex-center bg-grey-2"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",i,[(0,o.Lk)("div",l,[(0,o.bF)(d)])])]),_:1})}var r=s(9104),n=s(8790),d=s(3817),c=s.n(d),m=s(523),u=s.n(m);const p={class:"row q-col-gutter-md"},g={class:"q-mx-auto"},h={class:"row q-col-gutter-sm"},f={class:"col-12 col-sm-4"},b={class:"col-12 col-sm-4"},v={class:"col-12 col-sm-4"},y={class:"q-mt-xs"},k={class:"row q-col-gutter-sm"},L={class:"col-12 col-sm-4"},x={class:"col-12 col-sm-4"},C={class:"col-12 col-sm-4"},w={class:"row q-col-gutter-sm"},q={class:"col-12 col-sm-6"},F={class:"col-12 col-sm-6"},N={class:"row q-col-gutter-sm"},A={class:"col-12 col-md"},V={class:"row q-col-gutter-sm"},I={class:"col-12 col-sm-6"},_={class:"col-12 col-sm-6"},S={class:"row q-col-gutter-sm"},E={class:"col-12 col-sm-6"},R={class:"col-12 col-md-6"},M={class:"row q-col-gutter-sm"},P={class:"col-12 col-md-6"},B={class:"col-12 col-md-6"},T={class:"row q-col-gutter-sm"},U={key:0,class:"col-12 col-md-12"},D={class:"row q-col-gutter-sm"},Q={class:"col-12 col-md-6"},W={class:"col-12 col-md"},O={key:0,class:"row q-col-gutter-sm"},j={class:"col-12 col-md"},Y={class:"row q-col-gutter-sm"},X={class:"col-12"},$={class:"row q-col-gutter-sm"},z={class:"col-12"},G={key:0,class:"q-mt-md"},H=["src"],K={class:"row justify-end"},J={class:"col-12 col-md"},Z={ref:"video",autoplay:"",playsinline:"",style:{width:"100%","max-height":"300px"}},ee={ref:"canvas",style:{display:"none"}},te={class:"row items-center"},se={class:"column items-center q-gutter-md"},oe={class:"text-subtitle1 text-center text-weight-bold"},ie={class:"row q-col-gutter-md q-mt-md",style:{width:"100%"}},le={class:"col-12 col-md-6"},ae={class:"row items-center justify-between q-mb-xs"},re={class:"value"},ne={class:"row items-center justify-between q-mb-xs"},de={class:"value"},ce={class:"row items-center justify-between q-mb-xs"},me={class:"value"},ue={class:"row items-center justify-between q-mb-xs"},pe={class:"value"},ge={class:"col-12 col-md-6"},he={class:"row items-center justify-between q-mb-xs"},fe={class:"value"},be={class:"row items-center justify-between q-mb-xs"},ve={class:"value"},ye={class:"row items-center justify-between q-mb-xs"},ke={class:"value"},Le={class:"row items-center"},xe={class:"column items-center q-gutter-md"},Ce={class:"text-subtitle1 text-center text-weight-bold"},we={class:"row q-col-gutter-md q-mt-md",style:{width:"100%"}},qe={class:"col-12 col-md-6"},Fe={class:"row items-center justify-between q-mb-xs"},Ne={class:"value"},Ae={class:"row items-center justify-between q-mb-xs"},Ve={class:"value"},Ie={class:"row items-center justify-between q-mb-xs"},_e={class:"value"},Se={class:"row items-center justify-between q-mb-xs"},Ee={class:"value"},Re={class:"row items-center justify-between q-mb-xs"},Me={class:"value"},Pe={class:"row items-center justify-between q-mb-xs"},Be={class:"value"},Te={class:"col-12 col-md-6"},Ue={class:"row items-center justify-between q-mb-xs"},De={class:"value"},Qe={class:"row items-center justify-between q-mb-xs"},We={class:"value"},Oe={class:"row items-center justify-between q-mb-xs"},je={class:"value"},Ye={class:"row items-center justify-between q-mb-xs"},Xe={class:"value"},$e={class:"row items-center justify-between q-mb-xs"},ze={class:"value"};function Ge(e,t,s,i,l,a){const d=(0,o.g2)("q-input"),m=(0,o.g2)("q-checkbox"),Ge=(0,o.g2)("q-date"),He=(0,o.g2)("q-popup-proxy"),Ke=(0,o.g2)("q-icon"),Je=(0,o.g2)("RegionSuggestion"),Ze=(0,o.g2)("ProvinceSuggestion"),et=(0,o.g2)("CitySuggestion"),tt=(0,o.g2)("BarangaySuggestion"),st=(0,o.g2)("q-select"),ot=(0,o.g2)("q-file"),it=(0,o.g2)("q-radio"),lt=(0,o.g2)("q-btn"),at=(0,o.g2)("q-form"),rt=(0,o.g2)("q-card"),nt=(0,o.g2)("q-card-section"),dt=(0,o.g2)("q-btn-group"),ct=(0,o.g2)("q-card-actions"),mt=(0,o.g2)("q-dialog"),ut=(0,o.g2)("q-img"),pt=(0,o.g2)("q-space"),gt=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("div",g,[(0,o.bF)(rt,{class:"q-pa-md shadow-2",style:{width:"100%"}},{default:(0,o.k6)(()=>[(0,o.bF)(at,{ref:"kycForm",onSubmit:(0,r.D$)(a.handleSubmit,["prevent"]),class:"q-gutter-md"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",h,[(0,o.Lk)("div",f,[t[30]||(t[30]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Last Name: ")],-1)),(0,o.bF)(d,{modelValue:l.form.lastName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.form.lastName=e),outlined:"",dense:"",rules:[e=>!!e||"Last Name is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,o.Lk)("div",b,[t[31]||(t[31]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" First Name: ")],-1)),(0,o.bF)(d,{modelValue:l.form.firstName,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.firstName=e),outlined:"",dense:"",rules:[e=>!!e||"First Name is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,o.Lk)("div",v,[t[32]||(t[32]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Middle Name:",-1)),(0,o.bF)(d,{modelValue:l.form.middleName,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.middleName=e),outlined:"",dense:"",disable:l.form.noMiddleName,style:{"text-transform":"uppercase"}},null,8,["modelValue","disable"]),(0,o.Lk)("div",y,[(0,o.bF)(m,{modelValue:l.form.noMiddleName,"onUpdate:modelValue":[t[3]||(t[3]=e=>l.form.noMiddleName=e),a.handleNoMiddleName],label:"No Middle Name",color:"green-8",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])])])]),(0,o.Lk)("div",k,[(0,o.Lk)("div",L,[t[33]||(t[33]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Suffix:",-1)),(0,o.bF)(d,{modelValue:l.form.suffix,"onUpdate:modelValue":t[4]||(t[4]=e=>l.form.suffix=e),outlined:"",label:"(e.g. Jr, Sr, II, III, IV, V)",dense:"","hide-bottom-space":"",rules:[e=>!e||/^(Jr\.?|Sr\.?|II|III|IV|V)$/i.test(e)||"Invalid suffix"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,o.Lk)("div",x,[t[34]||(t[34]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Date of Birth: ")],-1)),(0,o.bF)(d,{modelValue:l.form.dateofbirth,"onUpdate:modelValue":t[7]||(t[7]=e=>l.form.dateofbirth=e),outlined:"",dense:"",readonly:"",rules:[e=>!!e||"Date of Birth is required"]},{append:(0,o.k6)(()=>[(0,o.bF)(Ke,{name:"event",class:"cursor-pointer"},{default:(0,o.k6)(()=>[(0,o.bF)(He,{ref:"dobPopup",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.k6)(()=>[(0,o.bF)(Ge,{modelValue:l.form.dateofbirth,"onUpdate:modelValue":[t[5]||(t[5]=e=>l.form.dateofbirth=e),t[6]||(t[6]=()=>e.$refs.dobPopup.hide())],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","rules"])]),(0,o.Lk)("div",C,[t[35]||(t[35]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Mobile Number:",-1)),(0,o.bF)(d,{modelValue:l.form.mobileNo,"onUpdate:modelValue":t[8]||(t[8]=e=>l.form.mobileNo=e),type:"tel",outlined:"",label:"09XXXXXXXXX",dense:"","hide-bottom-space":"",rules:[e=>!e||/^09\d{9}$/.test(e)||"Must start with 09 and be 11 digits"]},null,8,["modelValue","rules"])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",q,[t[36]||(t[36]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden Last Name: ",-1)),(0,o.bF)(d,{modelValue:l.form.motherLastName,"onUpdate:modelValue":t[9]||(t[9]=e=>l.form.motherLastName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,o.Lk)("div",F,[t[37]||(t[37]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden First Name: ",-1)),(0,o.bF)(d,{modelValue:l.form.motherFirstName,"onUpdate:modelValue":t[10]||(t[10]=e=>l.form.motherFirstName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])])]),(0,o.Lk)("div",N,[(0,o.Lk)("div",A,[t[38]||(t[38]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden Middle Name: ",-1)),(0,o.bF)(d,{modelValue:l.form.motherMiddleName,"onUpdate:modelValue":t[11]||(t[11]=e=>l.form.motherMiddleName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])])]),(0,o.Lk)("div",V,[(0,o.Lk)("div",I,[t[39]||(t[39]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Region: ",-1)),(0,o.bF)(Je,{modelValue:l.form.region,"onUpdate:modelValue":t[12]||(t[12]=e=>l.form.region=e),rules:[e=>!!e||"Region is required"]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",_,[t[40]||(t[40]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Province: ")],-1)),(0,o.bF)(Ze,{modelValue:l.form.province,"onUpdate:modelValue":t[13]||(t[13]=e=>l.form.province=e),"region-code":String(l.form.region?.reg_code),disabled:!l.form.region,rules:[e=>!!e||"Province is required"]},null,8,["modelValue","region-code","disabled","rules"])])]),(0,o.Lk)("div",S,[(0,o.Lk)("div",E,[t[41]||(t[41]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" City / Municipality: ")],-1)),(0,o.bF)(et,{modelValue:l.form.city,"onUpdate:modelValue":t[14]||(t[14]=e=>l.form.city=e),"region-code":String(l.form.region?.reg_code),"province-code":String(l.form.province?.prov_code),disabled:a.isCityDisabled,rules:[e=>!!e||"City is required"]},null,8,["modelValue","region-code","province-code","disabled","rules"])]),(0,o.Lk)("div",R,[t[42]||(t[42]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Barangay: ")],-1)),(0,o.bF)(tt,{modelValue:l.form.barangay,"onUpdate:modelValue":t[15]||(t[15]=e=>l.form.barangay=e),"region-code":String(l.form.region?.reg_code),"province-code":String(l.form.province?.prov_code),"city-code":String(l.form.city?.mun_code),disabled:!l.form.city,rules:[e=>!!e||"Barangay is required"]},null,8,["modelValue","region-code","province-code","city-code","disabled","rules"])])]),(0,o.Lk)("div",M,[(0,o.Lk)("div",P,[t[43]||(t[43]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Full Address: ")],-1)),(0,o.bF)(d,{modelValue:l.form.fullAddress,"onUpdate:modelValue":t[16]||(t[16]=e=>l.form.fullAddress=e),dense:"",outlined:"",placeholder:"Unit / Room / Lot number / Street",rules:[e=>!!e||"Full Address is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,o.Lk)("div",B,[t[44]||(t[44]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Beneficiary type: ")],-1)),(0,o.bF)(st,{outlined:"",modelValue:l.form.beneficiaryType,"onUpdate:modelValue":t[17]||(t[17]=e=>l.form.beneficiaryType=e),options:l.beneficiaryTypeOptions,dense:"",rules:[e=>!!e||"Beneficiary type is required"]},null,8,["modelValue","options","rules"])])]),(0,o.Lk)("div",T,["MINIMUM WAGE EARNER"===l.form.beneficiaryType?((0,o.uX)(),(0,o.CE)("div",U,[t[45]||(t[45]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Upload Company ID: ")],-1)),(0,o.bF)(ot,{modelValue:l.form.companyId,"onUpdate:modelValue":t[18]||(t[18]=e=>l.form.companyId=e),label:"Choose file",outlined:"",dense:"",accept:".jpg, .png, .jpeg",rules:[e=>!!e||"Company ID is required"]},null,8,["modelValue","rules"])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",D,[(0,o.Lk)("div",Q,[t[46]||(t[46]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" ID Presented: ")],-1)),(0,o.bF)(d,{modelValue:l.form.idPresented,"onUpdate:modelValue":t[19]||(t[19]=e=>l.form.idPresented=e),outlined:"",rules:[e=>!!e||"ID Presented is required"],dense:""},null,8,["modelValue","rules"])]),(0,o.Lk)("div",W,[t[47]||(t[47]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" ID Number: ")],-1)),(0,o.bF)(d,{outlined:"",modelValue:l.form.idTypeNumber,"onUpdate:modelValue":t[20]||(t[20]=e=>l.form.idTypeNumber=e),dense:"",rules:[e=>!!e||"ID Number is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])])]),"OTHER BENEFICIARY"===l.form.beneficiaryType?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",j,[t[48]||(t[48]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Remarks for other beneficiary: ")],-1)),(0,o.bF)(d,{modelValue:l.form.remarks,"onUpdate:modelValue":t[21]||(t[21]=e=>l.form.remarks=e),outlined:"",rules:[e=>!!e||"Remarks is required"],dense:"",autogrow:""},null,8,["modelValue","rules"])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Y,[(0,o.Lk)("div",X,[t[49]||(t[49]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" SEX: ")],-1)),(0,o.bF)(it,{modelValue:l.form.sex,"onUpdate:modelValue":t[22]||(t[22]=e=>l.form.sex=e),val:"Male",label:"Male",size:"xl","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue"]),(0,o.bF)(it,{modelValue:l.form.sex,"onUpdate:modelValue":t[23]||(t[23]=e=>l.form.sex=e),val:"Female",label:"Female",size:"xl","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue"])])]),(0,o.Lk)("div",$,[(0,o.Lk)("div",z,[t[50]||(t[50]=(0,o.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,o.Lk)("span",{class:"text-negative"},"*"),(0,o.eW)(" Photo: ")],-1)),(0,o.bF)(lt,{label:"Take Photo or ID",color:"yellow-8","text-color":"black",onClick:t[24]||(t[24]=e=>l.showCamera=!0)}),l.form.photo?((0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("img",{src:l.form.photo,alt:"Captured Photo",style:{width:"120px","border-radius":"8px"}},null,8,H)])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",K,[(0,o.Lk)("div",J,[(0,o.bF)(lt,{label:"Submit",type:"submit",color:"primary",class:"full-width",loading:l.isSubmitting,disable:"",rounded:"",unelevated:""},null,8,["loading"])])])]),_:1},8,["onSubmit"])]),_:1}),(0,o.bF)(mt,{modelValue:l.showCamera,"onUpdate:modelValue":t[25]||(t[25]=e=>l.showCamera=e),persistent:""},{default:(0,o.k6)(()=>[(0,o.bF)(rt,null,{default:(0,o.k6)(()=>[(0,o.bF)(nt,null,{default:(0,o.k6)(()=>[(0,o.Lk)("video",Z,null,512),(0,o.Lk)("canvas",ee,null,512)]),_:1}),(0,o.bF)(ct,{align:"right",class:"q-mb-md"},{default:(0,o.k6)(()=>[(0,o.bF)(dt,{push:""},{default:(0,o.k6)(()=>[(0,o.bo)((0,o.bF)(lt,{icon:"cancel",color:"negative",label:"Cancel",onClick:a.stopCamera},null,8,["onClick"]),[[gt]]),(0,o.bF)(lt,{icon:"photo_camera",label:"Capture",color:"yellow-8","text-color":"black",onClick:a.capturePhoto},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(0,o.bF)(mt,{modelValue:l.bool.showConsentDialog,"onUpdate:modelValue":t[27]||(t[27]=e=>l.bool.showConsentDialog=e),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:(0,o.k6)(()=>[(0,o.bF)(rt,null,{default:(0,o.k6)(()=>[(0,o.bF)(nt,{class:"text-h6"},{default:(0,o.k6)(()=>[...t[51]||(t[51]=[(0,o.eW)(" Data Privacy Consent ",-1)])]),_:1}),(0,o.bF)(nt,null,{default:(0,o.k6)(()=>[...t[52]||(t[52]=[(0,o.eW)(" In compliance with the Data Privacy Act of 2012 (RA 10173) and its Implementing Rules and Regulations, I hereby consent to the collection, storage and processing by the Department of Agriculture and its partner implementing unit/agency for the Benteng Bigas Meron (BBM) na Program of my personal information declared herein for the purposes of the program. ",-1)])]),_:1}),(0,o.bF)(ct,{align:"right"},{default:(0,o.k6)(()=>[(0,o.bF)(lt,{label:"I Agree",color:"primary",onClick:t[26]||(t[26]=e=>l.bool.showConsentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,o.bF)(mt,{modelValue:a.hasQrCode,"onUpdate:modelValue":t[28]||(t[28]=e=>a.hasQrCode=e),persistent:"",onHide:a.resetForm},{default:(0,o.k6)(()=>[(0,o.bF)(rt,{style:{"max-width":"660px",width:"90vw"}},{default:(0,o.k6)(()=>[(0,o.bF)(nt,{class:"row items-center q-pa-md bg-green-4 text-white"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",te,[(0,o.bF)(ut,{src:c(),alt:"Logo 1",style:{width:"40px",height:"40px"},class:"q-mr-sm",contain:""}),(0,o.bF)(ut,{src:u(),alt:"Logo 2",style:{width:"40px",height:"50px"},class:"q-mr-sm",contain:""}),t[53]||(t[53]=(0,o.Lk)("div",{class:"shadow-outline-text"},"BENTENG BIGAS MERON NA!",-1))]),(0,o.bF)(pt),(0,o.bo)((0,o.bF)(lt,{icon:"close",flat:"",round:"",dense:"",onClick:a.resetForm},null,8,["onClick"]),[[gt]])]),_:1}),(0,o.bF)(nt,{class:"q-pa-lg"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",se,[l.qrCode?((0,o.uX)(),(0,o.Wv)(ut,{key:0,src:l.qrCode,alt:"QR Code",style:{width:"180px",height:"180px"}},null,8,["src"])):(0,o.Q3)("",!0),(0,o.Lk)("div",oe," ID No: "+(0,n.v_)(e.beneficiaryId),1),(0,o.Lk)("div",ie,[(0,o.Lk)("div",le,[(0,o.Lk)("div",ae,[t[54]||(t[54]=(0,o.Lk)("div",{class:"label"},"LAST NAME:",-1)),(0,o.Lk)("div",re,(0,n.v_)(l.form.lastName),1)]),(0,o.Lk)("div",ne,[t[55]||(t[55]=(0,o.Lk)("div",{class:"label"},"FIRST NAME:",-1)),(0,o.Lk)("div",de,(0,n.v_)(l.form.firstName),1)]),(0,o.Lk)("div",ce,[t[56]||(t[56]=(0,o.Lk)("div",{class:"label"},"MIDDLE NAME:",-1)),(0,o.Lk)("div",me,(0,n.v_)(l.form.middleName||"N/A"),1)]),(0,o.Lk)("div",ue,[t[57]||(t[57]=(0,o.Lk)("div",{class:"label"},"SUFFIX:",-1)),(0,o.Lk)("div",pe,(0,n.v_)(l.form.suffix||"N/A"),1)])]),(0,o.Lk)("div",ge,[(0,o.Lk)("div",he,[t[58]||(t[58]=(0,o.Lk)("div",{class:"label"},"BENEFICIARY TYPE:",-1)),(0,o.Lk)("div",fe,(0,n.v_)(l.form?.beneficiaryType),1)]),(0,o.Lk)("div",be,[t[59]||(t[59]=(0,o.Lk)("div",{class:"label"},"BARANGAY:",-1)),(0,o.Lk)("div",ve,(0,n.v_)(l.form?.bgy_name||"N/A"),1)]),(0,o.Lk)("div",ye,[t[60]||(t[60]=(0,o.Lk)("div",{class:"label"},"CITY/MUNICIPALITY:",-1)),(0,o.Lk)("div",ke,(0,n.v_)(l.form?.mun_name||"N/A"),1)])])])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide"]),(0,o.bF)(mt,{modelValue:a.hasQrCode,"onUpdate:modelValue":t[29]||(t[29]=e=>a.hasQrCode=e),persistent:""},{default:(0,o.k6)(()=>[(0,o.bF)(rt,{style:{"max-width":"660px",width:"90vw"}},{default:(0,o.k6)(()=>[(0,o.bF)(nt,{class:"row items-center q-pa-md bg-green-4 text-white"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",Le,[(0,o.bF)(ut,{src:c(),alt:"Logo 1",style:{width:"40px",height:"40px"},class:"q-mr-sm",contain:""}),(0,o.bF)(ut,{src:u(),alt:"Logo 2",style:{width:"40px",height:"50px"},class:"q-mr-sm",contain:""}),t[61]||(t[61]=(0,o.Lk)("div",{class:"shadow-outline-text"},"BENTENG BIGAS MERON NA!",-1))]),(0,o.bF)(pt),(0,o.bo)((0,o.bF)(lt,{icon:"close",flat:"",round:"",dense:""},null,512),[[gt]])]),_:1}),(0,o.bF)(nt,{class:"q-pa-lg"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",xe,[l.qrCode?((0,o.uX)(),(0,o.Wv)(ut,{key:0,src:l.qrCode,alt:"QR Code",style:{width:"180px",height:"180px"}},null,8,["src"])):(0,o.Q3)("",!0),(0,o.Lk)("div",Ce," BENEFICIARY NO: "+(0,n.v_)(e.beneficiaryId),1),(0,o.Lk)("div",we,[(0,o.Lk)("div",qe,[(0,o.Lk)("div",Fe,[t[62]||(t[62]=(0,o.Lk)("div",{class:"label"},"LAST NAME:",-1)),(0,o.Lk)("div",Ne,(0,n.v_)(l.form.lastName),1)]),(0,o.Lk)("div",Ae,[t[63]||(t[63]=(0,o.Lk)("div",{class:"label"},"FIRST NAME:",-1)),(0,o.Lk)("div",Ve,(0,n.v_)(l.form.firstName),1)]),(0,o.Lk)("div",Ie,[t[64]||(t[64]=(0,o.Lk)("div",{class:"label"},"MIDDLE NAME:",-1)),(0,o.Lk)("div",_e,(0,n.v_)(l.form.middleName||"N/A"),1)]),(0,o.Lk)("div",Se,[t[65]||(t[65]=(0,o.Lk)("div",{class:"label"},"SUFFIX:",-1)),(0,o.Lk)("div",Ee,(0,n.v_)(l.form.suffix||"N/A"),1)]),(0,o.Lk)("div",Re,[t[66]||(t[66]=(0,o.Lk)("div",{class:"label"},"BIRTH MONTH/YEAR:",-1)),(0,o.Lk)("div",Me,(0,n.v_)(l.form.birth_month+" "+l.form.birth_year||"N/A"),1)]),(0,o.Lk)("div",Pe,[t[67]||(t[67]=(0,o.Lk)("div",{class:"label"},"BENEFICIARY TYPE:",-1)),(0,o.Lk)("div",Be,(0,n.v_)(l.form.beneficiaryType),1)])]),(0,o.Lk)("div",Te,[(0,o.Lk)("div",Ue,[t[68]||(t[68]=(0,o.Lk)("div",{class:"label"},"CROP AREA:",-1)),(0,o.Lk)("div",De,(0,n.v_)(e.userData.crop_area||"N/A"),1)]),(0,o.Lk)("div",Qe,[t[69]||(t[69]=(0,o.Lk)("div",{class:"label"},"REGION:",-1)),(0,o.Lk)("div",We,(0,n.v_)(e.userData.region),1)]),(0,o.Lk)("div",Oe,[t[70]||(t[70]=(0,o.Lk)("div",{class:"label"},"PROVINCE:",-1)),(0,o.Lk)("div",je,(0,n.v_)(e.userData.province),1)]),(0,o.Lk)("div",Ye,[t[71]||(t[71]=(0,o.Lk)("div",{class:"label"},"CITY/MUNICIPALITY:",-1)),(0,o.Lk)("div",Xe,(0,n.v_)(e.userData.mun_name||"N/A"),1)]),(0,o.Lk)("div",$e,[t[72]||(t[72]=(0,o.Lk)("div",{class:"label"},"BARANGAY:",-1)),(0,o.Lk)("div",ze,(0,n.v_)(e.userData.bgy_name||"N/A"),1)])])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}s(310),s(95),s(3194);var He=s(7007),Ke=s.n(He),Je=s(439),Ze=s.n(Je);function et(e,t,s,i,l,a){const r=(0,o.g2)("q-item-section"),n=(0,o.g2)("q-item"),d=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Region",options:a.limitedOptions,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"reg_name","option-value":"reg_code1","use-input":"","fill-input":"","hide-selected":"",onFilter:a.filterFn,loading:l.loading,placeholder:"Type region to search",rules:[e=>null!=e&&""!==e||"This field is required."]},{"no-option":(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)(r,{class:"text-grey"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)(" No suggestions found. ",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","onFilter","loading","rules"])}const tt={name:"RegionSuggestion",props:{initialValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e}},mounted(){this.loadOptions("")},methods:{async loadOptions(e){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchRegion",{search:e});console.log("search Region",t),Array.isArray(t)?this.options=t.sort((e,t)=>e.reg_name.localeCompare(t.reg_name)):this.options=[]}catch(e){console.error("Error searching regions:",e),this.$q.notify({message:"Error searching regions",position:"top",type:"negative"}),this.options=[]}finally{this.loading=!1}},async filterFn(e,t){if(e&&""!==e.trim()){this.loading=!0;try{const s=await this.$store.dispatch("registration/searchRegion",{search:e});t(()=>{Array.isArray(s)?this.options=s.sort((e,t)=>e.reg_name.localeCompare(t.reg_name)):this.options=[]})}catch(e){console.error("Error searching regions:",e),this.$q.notify({message:"Error searching regions",position:"top",type:"negative"}),t(()=>{this.options=[]})}finally{this.loading=!1}}else t(()=>{this.options=[...this.options]})}},computed:{limitedOptions(){return this.options.slice(0,10)}}};var st=s(2807),ot=s(5188),it=s(124),lt=s(5173),at=s(8582),rt=s.n(at);const nt=(0,st.A)(tt,[["render",et]]),dt=nt;function ct(e,t,s,i,l,a){const r=(0,o.g2)("q-item-section"),n=(0,o.g2)("q-item"),d=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Province",options:a.limitedOptions,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"prov_name","option-value":"prov_code1","use-input":"","fill-input":"","hide-selected":"",disable:s.disabled,onFilter:a.filterFn,loading:l.loading,placeholder:"Type province to search",rules:[e=>!!(s.disabled||null!=e&&""!==e)||"This field is required."]},{"no-option":(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)(r,{class:"text-grey"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)(" No suggestions found. ",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","disable","onFilter","loading","rules"])}rt()(tt,"components",{QSelect:ot.A,QItem:it.A,QItemSection:lt.A});const mt={name:"ProvinceSuggestion",props:{regionCode:{type:String,required:!0},initialValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e},regionCode:{immediate:!0,handler(){this.loadOptions(""),this.value=""}}},methods:{async loadOptions(e){if(this.regionCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchProvince",{search:e,region_code:this.regionCode});this.options=Array.isArray(t)?t:[]}catch(e){console.error("Error fetching provinces:",e),this.$q.notify({message:"Error searching provinces",position:"top",type:"negative"}),this.options=[]}finally{this.loading=!1}}else this.options=[]},async filterFn(e,t){if(e&&""!==e.trim()){this.loading=!0;try{const s=await this.$store.dispatch("registration/searchProvince",{search:e,region_code:this.regionCode});t(()=>{this.options=Array.isArray(s)?s:[]})}catch(e){console.error("Error searching provinces:",e),this.$q.notify({message:"Error searching provinces",position:"top",type:"negative"}),t(()=>{this.options=[]})}finally{this.loading=!1}}else t(()=>{this.options=[...this.options]})}},computed:{limitedOptions(){return this.options.slice(0,10)}}},ut=(0,st.A)(mt,[["render",ct]]),pt=ut;function gt(e,t,s,i,l,a){const r=(0,o.g2)("q-item-section"),n=(0,o.g2)("q-item"),d=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.Wv)(d,{outlined:"",dense:"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"500",label:"Select City",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),options:l.options,"option-label":"mun_name","option-value":"mun_code1",loading:l.loading,rules:[e=>!!e||"City is required"],disable:s.disabled,placeholder:"Type to search cities",onFilter:a.filterFn},{"no-option":(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)(r,{class:"text-grey"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)("No cities found.",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","loading","rules","disable","onFilter"])}rt()(mt,"components",{QSelect:ot.A,QItem:it.A,QItemSection:lt.A});const ht={name:"CitySuggestion",props:{regionCode:{type:String,required:!0},provinceCode:{type:String,required:!0},modelValue:{type:[String,Object],default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.modelValue,options:[],loading:!1}},watch:{modelValue(e){this.value=e},value(e){this.$emit("update:modelValue",e)},provinceCode:{immediate:!0,handler(e,t){e&&(setTimeout(()=>{this.loadCities("")},200),t&&e!==t&&(this.value=""))}}},methods:{async loadCities(e){if(this.regionCode&&this.provinceCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchCity",{search:e,provinceCode:this.provinceCode,regionCode:this.regionCode});this.options=Array.isArray(t)?t:[]}catch(e){console.error("Error fetching cities:",e),this.options=[]}finally{this.loading=!1}}else this.options=[]},filterFn(e,t){t(()=>{this.loadCities(e||"")})}}},ft=(0,st.A)(ht,[["render",gt]]),bt=ft;function vt(e,t,s,i,l,a){const r=(0,o.g2)("q-item-section"),n=(0,o.g2)("q-item"),d=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Barangay",options:l.options,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"bgy_name","option-value":"bgy_code1","use-input":"","fill-input":"","hide-selected":"",loading:l.loading,onFilter:a.filterFn,rules:[e=>!!e||"Barangay is required"],placeholder:"Type to search barangays",disable:s.disabled},{"no-option":(0,o.k6)(()=>[(0,o.bF)(n,null,{default:(0,o.k6)(()=>[(0,o.bF)(r,{class:"text-grey"},{default:(0,o.k6)(()=>[...t[1]||(t[1]=[(0,o.eW)("No barangays found.",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","loading","onFilter","rules","disable"])}rt()(ht,"components",{QSelect:ot.A,QItem:it.A,QItemSection:lt.A});const yt={name:"BarangaySuggestion",props:{regionCode:{type:String,default:""},provinceCode:{type:String,default:""},cityCode:{type:String,default:""},modelValue:{type:[String,Object],default:()=>({})},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e},cityCode:{immediate:!0,handler(){this.loadBarangays(""),this.value=""}}},methods:{async loadBarangays(e){if(this.cityCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchBarangay",{search:e,regionCode:this.regionCode,provinceCode:this.provinceCode,cityCode:this.cityCode});this.options=Array.isArray(t)?t:[]}catch(e){this.options=[],console.error("Error fetching barangays:",e)}finally{this.loading=!1}}else this.options=[]},filterFn(e,t){t(()=>{this.loadBarangays(e||"")})}}},kt=(0,st.A)(yt,[["render",vt]]),Lt=kt;rt()(yt,"components",{QSelect:ot.A,QItem:it.A,QItemSection:lt.A}),Ke().vfs=Ze().vfs;const xt={name:"KYCRegister",components:{RegionSuggestion:dt,ProvinceSuggestion:pt,CitySuggestion:bt,BarangaySuggestion:Lt},mounted(){this.bool.showConsentDialog=!0},data(){return{selectedRegionCode:"",selectedProvinceCode:"",selectedCityCode:"",selectedBarangayCode:"",bool:{showConsentDialog:!1},beneficiaryTypeOptions:["SENIOR CITIZEN","PWD","SOLO PARENT","4P'S BENEFICIARY","MINIMUM WAGE EARNER","INDIGENOUS PEOPLE","FARMER","FARMWORKER","FISHERFOLK","PUV DRIVER","OTHER BENEFICIARY"],isSubmitting:!1,form:{lastName:"",firstName:"",middleName:"",suffix:"",dateofbirth:"",mobileNo:"",sex:"",region:"",province:"",city:"",barangay:"",fullAddress:"",beneficiaryType:null,idTypeNumber:null,photo:null,companyId:null,employmentCert:null,beneficiaryIdFile:null,motherLastName:"",motherFirstName:"",motherMiddleName:"",idPresented:"",noMiddleName:!1},qrCode:null,showCamera:!1,stream:null,showProfileCamera:!1,showIDCamera:!1,showPdfDialog:!1,pdfUrl:null}},watch:{showCamera(e){e?this.startCamera():this.stopCamera()},selectedRegionCode(e){this.selectedProvinceCode="",this.selectedCityCode=""},selectedProvinceCode(e){this.selectedCityCode=""}},computed:{hasQrCode(){return null!==this.qrCode},isCityDisabled(){return!this.form.region&&!this.form.province},isFormValid(){return this.form.lastName&&this.form.firstName&&this.form.dateofbirth&&this.form.sex&&this.form.region&&this.form.province&&this.form.city&&this.form.barangay&&this.form.fullAddress&&this.form.beneficiaryType&&this.form.idTypeNumber&&this.form.photo}},methods:{handleNoMiddleName(){this.form.noMiddleName&&(this.form.middleName="")},resetForm(){this.form={firstName:"",lastName:"",middleName:"",suffix:"",beneficiaryType:"",bgy_name:"",mun_name:""},this.qrCode=null,this.beneficiaryId=null,this.hasQrCode=!1},onRegionChange(e){this.initialRegion=e},handleProvincesChange(e){this.posts.province=e.val,this.shortCode=e.shortCode},handleCitiesChange(e){this.posts.city=e},async startCamera(){try{const e={video:{facingMode:{exact:"environment"}},audio:!1};this.stream=await navigator.mediaDevices.getUserMedia(e)}catch(e){console.warn("Back camera not available, using front camera:",e);const t={video:{facingMode:"user"},audio:!1};this.stream=await navigator.mediaDevices.getUserMedia(t)}const e=this.$refs.video;e&&(e.srcObject=this.stream,await e.play())},stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)},capturePhoto(){const e=this.$refs.video,t=this.$refs.canvas,s=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,s.drawImage(e,0,0,t.width,t.height),this.form.photo=t.toDataURL("image/jpeg"),this.showCamera=!1,this.stopCamera()},async handleSubmit(){},async printId(){const{lastName:e,firstName:t,middleName:o,suffix:i,dateofbirth:l,mobileNo:a,sex:r,region:n,province:d,city:c,barangay:m,fullAddress:u,beneficiaryType:p,photo:g}=this.form,h=await this.getBase64FromUrl(s(523)),f=await this.getBase64FromUrl(s(3817)),b=242.65,v=153,y={info:{title:`${e}, ${t} (P20 ID)`,author:"DA-ICTS"},pageSize:{width:b,height:v},pageMargins:[2,5,2,5],background:[{image:background,width:b,height:v,opacity:.15}],content:[{columns:[{columns:[{image:h,width:30,height:30},{image:f,width:25,height:25,margin:[5,5,0,0]}],width:80},{text:"P20 RICE PROGRAM ACCESS CARD",style:"header",alignment:"center",width:"*",margin:[0,10,0,0],pageBreak:"avoid"}]},{canvas:[{type:"line",x1:0,y1:5,x2:b-20,y2:5,lineWidth:1,color:"#ccc"}],margin:[0,8,0,8],pageBreak:"avoid"},{columns:[{width:60,pageBreak:"avoid",stack:[{image:g,width:50,height:155,fit:[50,85],margin:[5,0,0,5]},{text:`ID No: ${this.beneficiaryId||""}`,style:"label",fontSize:6,alignment:"center",margin:[2,0,0,0]}]},{width:"*",table:{widths:[75,"*"],body:[[{text:"LAST NAME:",style:"label",fontSize:6,noWrap:!0},{text:e,fontSize:6}],[{text:"FIRST NAME:",style:"label",fontSize:6,noWrap:!0},{text:t,fontSize:6}],[{text:"MIDDLE NAME:",style:"label",fontSize:6,noWrap:!0},{text:o||"N/A",fontSize:6}],[{text:"SUFFIX:",style:"label",fontSize:6,noWrap:!0},{text:i||"N/A",fontSize:6}],[{text:"BENEFICIARY TYPE:",style:"label",fontSize:6,noWrap:!0},{text:p,fontSize:6}],[{text:"BARANGAY:",style:"label",fontSize:6,noWrap:!0},{text:m?.bgy_name,fontSize:6}],[{text:"CITY/MUNICIPALITY:",style:"label",fontSize:6,noWrap:!0},{text:c?.mun_name,fontSize:6}]]},layout:{hLineWidth:()=>0,vLineWidth:()=>0,paddingLeft:()=>0,paddingRight:()=>0,paddingTop:()=>2,paddingBottom:()=>2},margin:[5,0,0,0],pageBreak:"avoid"},this.qrCode?{image:this.qrCode,width:60,height:75,margin:[5,0,0,0],fit:[50,75],pageBreak:"avoid"}:{width:0}]}],styles:{header:{fontSize:8,bold:!0,color:"#37474F"},label:{bold:!0,fontSize:6}},defaultStyle:{fontSize:6,alignment:"left",color:"#37474F"}};Ke().createPdf(y).open()},getBase64FromUrl(e){return new Promise((t,s)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{const e=document.createElement("canvas");e.width=o.width,e.height=o.height;const s=e.getContext("2d");s.drawImage(o,0,0),t(e.toDataURL("image/png"))},o.onerror=s,o.src=e})}}};var Ct=s(3316),wt=s(9200),qt=s(7837),Ft=s(7022),Nt=s(492),At=s(8975),Vt=s(8462),It=s(9980),_t=s(7878),St=s(1693),Et=s(558),Rt=s(4189),Mt=s(2669),Pt=s(6031),Bt=s(2665),Tt=s(3676),Ut=s(8672);const Dt=(0,st.A)(xt,[["render",Ge]]),Qt=Dt;rt()(xt,"components",{QCard:Ct.A,QForm:wt.A,QInput:qt.A,QCheckbox:Ft.A,QIcon:Nt.A,QPopupProxy:At.A,QDate:Vt.A,QSelect:ot.A,QFile:It.A,QRadio:_t.A,QBtn:St.A,QDialog:Et.A,QCardSection:Rt.A,QCardActions:Mt.A,QBtnGroup:Pt.A,QImg:Bt.A,QSpace:Tt.A}),rt()(xt,"directives",{ClosePopup:Ut.A});const Wt=(0,o.pM)({name:"IndexPage",components:{RegisterBeneficiaryForm:Qt}});var Ot=s(7716);const jt=(0,st.A)(Wt,[["render",a]]),Yt=jt;rt()(Wt,"components",{QPage:Ot.A})}}]);