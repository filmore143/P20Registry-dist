(globalThis["webpackChunkfilmore_quasar_boilerplate"]=globalThis["webpackChunkfilmore_quasar_boilerplate"]||[]).push([[260],{523:(e,t,s)=>{e.exports=s.p+"img/BAGONG_PILIPINAS_LOGO.ce2d0c83.png"},3817:(e,t,s)=>{e.exports=s.p+"img/DAlogo.5541640e.png"},5260:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Ot});var i=s(1758);const o={class:"bg-grey-2"};function l(e,t,s,l,a,r){const n=(0,i.g2)("RegisterBeneficiaryForm");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(n)])}var a=s(9104),r=s(8790),n=s(3817),d=s.n(n),c=s(523),m=s.n(c);const u={class:"row q-col-gutter-md"},p={class:"q-mx-auto"},g={class:"row q-col-gutter-sm"},h={class:"col-12 col-sm-4"},b={class:"col-12 col-sm-4"},f={class:"col-12 col-sm-4"},v={class:"q-mt-xs"},y={class:"row q-col-gutter-sm"},k={class:"col-12 col-sm-4"},L={class:"col-12 col-sm-4"},x={class:"col-12 col-sm-4"},C={class:"row q-col-gutter-sm"},w={class:"col-12 col-sm-6"},q={class:"col-12 col-sm-6"},F={class:"row q-col-gutter-sm"},N={class:"col-12 col-md"},A={class:"row q-col-gutter-sm"},V={class:"col-12 col-sm-6"},I={class:"col-12 col-sm-6"},_={class:"row q-col-gutter-sm"},S={class:"col-12 col-sm-6"},E={class:"col-12 col-md-6"},R={class:"row q-col-gutter-sm"},M={class:"col-12 col-md-6"},P={class:"col-12 col-md-6"},B={class:"row q-col-gutter-sm"},T={key:0,class:"col-12 col-md-12"},U={class:"row q-col-gutter-sm"},D={class:"col-12 col-md-6"},Q={class:"col-12 col-md"},W={key:0,class:"row q-col-gutter-sm"},O={class:"col-12 col-md"},j={class:"row q-col-gutter-sm"},Y={class:"col-12"},X={class:"row q-col-gutter-sm"},$={class:"col-12"},z={key:0,class:"q-mt-md"},G=["src"],H={class:"row justify-end"},K={class:"col-12 col-md"},J={ref:"video",autoplay:"",playsinline:"",style:{width:"100%","max-height":"300px"}},Z={ref:"canvas",style:{display:"none"}},ee={class:"row items-center"},te={class:"column items-center q-gutter-md"},se={class:"text-subtitle1 text-center text-weight-bold"},ie={class:"row q-col-gutter-md q-mt-md",style:{width:"100%"}},oe={class:"col-12 col-md-6"},le={class:"row items-center justify-between q-mb-xs"},ae={class:"value"},re={class:"row items-center justify-between q-mb-xs"},ne={class:"value"},de={class:"row items-center justify-between q-mb-xs"},ce={class:"value"},me={class:"row items-center justify-between q-mb-xs"},ue={class:"value"},pe={class:"col-12 col-md-6"},ge={class:"row items-center justify-between q-mb-xs"},he={class:"value"},be={class:"row items-center justify-between q-mb-xs"},fe={class:"value"},ve={class:"row items-center justify-between q-mb-xs"},ye={class:"value"},ke={class:"row items-center"},Le={class:"column items-center q-gutter-md"},xe={class:"text-subtitle1 text-center text-weight-bold"},Ce={class:"row q-col-gutter-md q-mt-md",style:{width:"100%"}},we={class:"col-12 col-md-6"},qe={class:"row items-center justify-between q-mb-xs"},Fe={class:"value"},Ne={class:"row items-center justify-between q-mb-xs"},Ae={class:"value"},Ve={class:"row items-center justify-between q-mb-xs"},Ie={class:"value"},_e={class:"row items-center justify-between q-mb-xs"},Se={class:"value"},Ee={class:"row items-center justify-between q-mb-xs"},Re={class:"value"},Me={class:"row items-center justify-between q-mb-xs"},Pe={class:"value"},Be={class:"col-12 col-md-6"},Te={class:"row items-center justify-between q-mb-xs"},Ue={class:"value"},De={class:"row items-center justify-between q-mb-xs"},Qe={class:"value"},We={class:"row items-center justify-between q-mb-xs"},Oe={class:"value"},je={class:"row items-center justify-between q-mb-xs"},Ye={class:"value"},Xe={class:"row items-center justify-between q-mb-xs"},$e={class:"value"};function ze(e,t,s,o,l,n){const c=(0,i.g2)("q-input"),ze=(0,i.g2)("q-checkbox"),Ge=(0,i.g2)("q-date"),He=(0,i.g2)("q-popup-proxy"),Ke=(0,i.g2)("q-icon"),Je=(0,i.g2)("RegionSuggestion"),Ze=(0,i.g2)("ProvinceSuggestion"),et=(0,i.g2)("CitySuggestion"),tt=(0,i.g2)("BarangaySuggestion"),st=(0,i.g2)("q-select"),it=(0,i.g2)("q-file"),ot=(0,i.g2)("q-radio"),lt=(0,i.g2)("q-btn"),at=(0,i.g2)("q-form"),rt=(0,i.g2)("q-card"),nt=(0,i.g2)("q-card-section"),dt=(0,i.g2)("q-btn-group"),ct=(0,i.g2)("q-card-actions"),mt=(0,i.g2)("q-dialog"),ut=(0,i.g2)("q-img"),pt=(0,i.g2)("q-space"),gt=(0,i.gN)("close-popup");return(0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",p,[(0,i.bF)(rt,{class:"q-pa-md shadow-2",style:{width:"100%"}},{default:(0,i.k6)(()=>[(0,i.bF)(at,{ref:"kycForm",onSubmit:(0,a.D$)(n.handleSubmit,["prevent"]),class:"q-gutter-md"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",g,[(0,i.Lk)("div",h,[t[30]||(t[30]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Last Name: ")],-1)),(0,i.bF)(c,{modelValue:l.form.lastName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.form.lastName=e),outlined:"",dense:"",rules:[e=>!!e||"Last Name is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,i.Lk)("div",b,[t[31]||(t[31]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" First Name: ")],-1)),(0,i.bF)(c,{modelValue:l.form.firstName,"onUpdate:modelValue":t[1]||(t[1]=e=>l.form.firstName=e),outlined:"",dense:"",rules:[e=>!!e||"First Name is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,i.Lk)("div",f,[t[32]||(t[32]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Middle Name:",-1)),(0,i.bF)(c,{modelValue:l.form.middleName,"onUpdate:modelValue":t[2]||(t[2]=e=>l.form.middleName=e),outlined:"",dense:"",disable:l.form.noMiddleName,style:{"text-transform":"uppercase"}},null,8,["modelValue","disable"]),(0,i.Lk)("div",v,[(0,i.bF)(ze,{modelValue:l.form.noMiddleName,"onUpdate:modelValue":[t[3]||(t[3]=e=>l.form.noMiddleName=e),n.handleNoMiddleName],label:"No Middle Name",color:"green-8",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])])])]),(0,i.Lk)("div",y,[(0,i.Lk)("div",k,[t[33]||(t[33]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Suffix:",-1)),(0,i.bF)(c,{modelValue:l.form.suffix,"onUpdate:modelValue":t[4]||(t[4]=e=>l.form.suffix=e),outlined:"",label:"(e.g. Jr, Sr, II, III, IV, V)",dense:"","hide-bottom-space":"",rules:[e=>!e||/^(Jr\.?|Sr\.?|II|III|IV|V)$/i.test(e)||"Invalid suffix"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,i.Lk)("div",L,[t[34]||(t[34]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Date of Birth: ")],-1)),(0,i.bF)(c,{modelValue:l.form.dateofbirth,"onUpdate:modelValue":t[7]||(t[7]=e=>l.form.dateofbirth=e),outlined:"",dense:"",readonly:"",rules:[e=>!!e||"Date of Birth is required"]},{append:(0,i.k6)(()=>[(0,i.bF)(Ke,{name:"event",class:"cursor-pointer"},{default:(0,i.k6)(()=>[(0,i.bF)(He,{ref:"dobPopup",cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,i.k6)(()=>[(0,i.bF)(Ge,{modelValue:l.form.dateofbirth,"onUpdate:modelValue":[t[5]||(t[5]=e=>l.form.dateofbirth=e),t[6]||(t[6]=()=>e.$refs.dobPopup.hide())],mask:"YYYY-MM-DD"},null,8,["modelValue"])]),_:1},512)]),_:1})]),_:1},8,["modelValue","rules"])]),(0,i.Lk)("div",x,[t[35]||(t[35]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},"Mobile Number:",-1)),(0,i.bF)(c,{modelValue:l.form.mobileNo,"onUpdate:modelValue":t[8]||(t[8]=e=>l.form.mobileNo=e),type:"tel",outlined:"",label:"09XXXXXXXXX",dense:"","hide-bottom-space":"",rules:[e=>!e||/^09\d{9}$/.test(e)||"Must start with 09 and be 11 digits"]},null,8,["modelValue","rules"])])]),(0,i.Lk)("div",C,[(0,i.Lk)("div",w,[t[36]||(t[36]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden Last Name: ",-1)),(0,i.bF)(c,{modelValue:l.form.motherLastName,"onUpdate:modelValue":t[9]||(t[9]=e=>l.form.motherLastName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])]),(0,i.Lk)("div",q,[t[37]||(t[37]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden First Name: ",-1)),(0,i.bF)(c,{modelValue:l.form.motherFirstName,"onUpdate:modelValue":t[10]||(t[10]=e=>l.form.motherFirstName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])])]),(0,i.Lk)("div",F,[(0,i.Lk)("div",N,[t[38]||(t[38]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Mother's Maiden Middle Name: ",-1)),(0,i.bF)(c,{modelValue:l.form.motherMiddleName,"onUpdate:modelValue":t[11]||(t[11]=e=>l.form.motherMiddleName=e),outlined:"",dense:"",style:{"text-transform":"uppercase"}},null,8,["modelValue"])])]),(0,i.Lk)("div",A,[(0,i.Lk)("div",V,[t[39]||(t[39]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"}," Region: ",-1)),(0,i.bF)(Je,{modelValue:l.form.region,"onUpdate:modelValue":t[12]||(t[12]=e=>l.form.region=e),rules:[e=>!!e||"Region is required"]},null,8,["modelValue","rules"])]),(0,i.Lk)("div",I,[t[40]||(t[40]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Province: ")],-1)),(0,i.bF)(Ze,{modelValue:l.form.province,"onUpdate:modelValue":t[13]||(t[13]=e=>l.form.province=e),"region-code":String(l.form.region?.reg_code),disabled:!l.form.region,rules:[e=>!!e||"Province is required"]},null,8,["modelValue","region-code","disabled","rules"])])]),(0,i.Lk)("div",_,[(0,i.Lk)("div",S,[t[41]||(t[41]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" City / Municipality: ")],-1)),(0,i.bF)(et,{modelValue:l.form.city,"onUpdate:modelValue":t[14]||(t[14]=e=>l.form.city=e),"region-code":String(l.form.region?.reg_code),"province-code":String(l.form.province?.prov_code),disabled:n.isCityDisabled,rules:[e=>!!e||"City is required"]},null,8,["modelValue","region-code","province-code","disabled","rules"])]),(0,i.Lk)("div",E,[t[42]||(t[42]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Barangay: ")],-1)),(0,i.bF)(tt,{modelValue:l.form.barangay,"onUpdate:modelValue":t[15]||(t[15]=e=>l.form.barangay=e),"region-code":String(l.form.region?.reg_code),"province-code":String(l.form.province?.prov_code),"city-code":String(l.form.city?.mun_code),disabled:!l.form.city,rules:[e=>!!e||"Barangay is required"]},null,8,["modelValue","region-code","province-code","city-code","disabled","rules"])])]),(0,i.Lk)("div",R,[(0,i.Lk)("div",M,[t[43]||(t[43]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Full Address: ")],-1)),(0,i.bF)(c,{modelValue:l.form.fullAddress,"onUpdate:modelValue":t[16]||(t[16]=e=>l.form.fullAddress=e),dense:"",outlined:"",placeholder:"Unit / Room / Lot number / Street",rules:[e=>!!e||"Full Address is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])]),(0,i.Lk)("div",P,[t[44]||(t[44]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Beneficiary type: ")],-1)),(0,i.bF)(st,{outlined:"",modelValue:l.form.beneficiaryType,"onUpdate:modelValue":t[17]||(t[17]=e=>l.form.beneficiaryType=e),options:l.beneficiaryTypeOptions,dense:"",rules:[e=>!!e||"Beneficiary type is required"]},null,8,["modelValue","options","rules"])])]),(0,i.Lk)("div",B,["MINIMUM WAGE EARNER"===l.form.beneficiaryType?((0,i.uX)(),(0,i.CE)("div",T,[t[45]||(t[45]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Upload Company ID: ")],-1)),(0,i.bF)(it,{modelValue:l.form.companyId,"onUpdate:modelValue":t[18]||(t[18]=e=>l.form.companyId=e),label:"Choose file",outlined:"",dense:"",accept:".jpg, .png, .jpeg",rules:[e=>!!e||"Company ID is required"]},null,8,["modelValue","rules"])])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",U,[(0,i.Lk)("div",D,[t[46]||(t[46]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" ID Presented: ")],-1)),(0,i.bF)(c,{modelValue:l.form.idPresented,"onUpdate:modelValue":t[19]||(t[19]=e=>l.form.idPresented=e),outlined:"",rules:[e=>!!e||"ID Presented is required"],dense:""},null,8,["modelValue","rules"])]),(0,i.Lk)("div",Q,[t[47]||(t[47]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" ID Number: ")],-1)),(0,i.bF)(c,{outlined:"",modelValue:l.form.idTypeNumber,"onUpdate:modelValue":t[20]||(t[20]=e=>l.form.idTypeNumber=e),dense:"",rules:[e=>!!e||"ID Number is required"],style:{"text-transform":"uppercase"}},null,8,["modelValue","rules"])])]),"OTHER BENEFICIARY"===l.form.beneficiaryType?((0,i.uX)(),(0,i.CE)("div",W,[(0,i.Lk)("div",O,[t[48]||(t[48]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Remarks for other beneficiary: ")],-1)),(0,i.bF)(c,{modelValue:l.form.remarks,"onUpdate:modelValue":t[21]||(t[21]=e=>l.form.remarks=e),outlined:"",rules:[e=>!!e||"Remarks is required"],dense:"",autogrow:""},null,8,["modelValue","rules"])])])):(0,i.Q3)("",!0),(0,i.Lk)("div",j,[(0,i.Lk)("div",Y,[t[49]||(t[49]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" SEX: ")],-1)),(0,i.bF)(ot,{modelValue:l.form.sex,"onUpdate:modelValue":t[22]||(t[22]=e=>l.form.sex=e),val:"Male",label:"Male",size:"xl","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue"]),(0,i.bF)(ot,{modelValue:l.form.sex,"onUpdate:modelValue":t[23]||(t[23]=e=>l.form.sex=e),val:"Female",label:"Female",size:"xl","checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye"},null,8,["modelValue"])])]),(0,i.Lk)("div",X,[(0,i.Lk)("div",$,[t[50]||(t[50]=(0,i.Lk)("div",{class:"q-mb-xs text-subtitle2"},[(0,i.Lk)("span",{class:"text-negative"},"*"),(0,i.eW)(" Photo: ")],-1)),(0,i.bF)(lt,{label:"Take Photo or ID",color:"yellow-8","text-color":"black",onClick:t[24]||(t[24]=e=>l.showCamera=!0)}),l.form.photo?((0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("img",{src:l.form.photo,alt:"Captured Photo",style:{width:"120px","border-radius":"8px"}},null,8,G)])):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",H,[(0,i.Lk)("div",K,[(0,i.bF)(lt,{label:"Submit",type:"submit",color:"primary",class:"full-width",loading:l.isSubmitting,disable:"",rounded:"",unelevated:""},null,8,["loading"])])])]),_:1},8,["onSubmit"])]),_:1}),(0,i.bF)(mt,{modelValue:l.showCamera,"onUpdate:modelValue":t[25]||(t[25]=e=>l.showCamera=e),persistent:""},{default:(0,i.k6)(()=>[(0,i.bF)(rt,null,{default:(0,i.k6)(()=>[(0,i.bF)(nt,null,{default:(0,i.k6)(()=>[(0,i.Lk)("video",J,null,512),(0,i.Lk)("canvas",Z,null,512)]),_:1}),(0,i.bF)(ct,{align:"right",class:"q-mb-md"},{default:(0,i.k6)(()=>[(0,i.bF)(dt,{push:""},{default:(0,i.k6)(()=>[(0,i.bo)((0,i.bF)(lt,{icon:"cancel",color:"negative",label:"Cancel",onClick:n.stopCamera},null,8,["onClick"]),[[gt]]),(0,i.bF)(lt,{icon:"photo_camera",label:"Capture",color:"yellow-8","text-color":"black",onClick:n.capturePhoto},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),(0,i.bF)(mt,{modelValue:l.bool.showConsentDialog,"onUpdate:modelValue":t[27]||(t[27]=e=>l.bool.showConsentDialog=e),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:(0,i.k6)(()=>[(0,i.bF)(rt,null,{default:(0,i.k6)(()=>[(0,i.bF)(nt,{class:"text-h6"},{default:(0,i.k6)(()=>[...t[51]||(t[51]=[(0,i.eW)(" Data Privacy Consent ",-1)])]),_:1}),(0,i.bF)(nt,null,{default:(0,i.k6)(()=>[...t[52]||(t[52]=[(0,i.eW)(" In compliance with the Data Privacy Act of 2012 (RA 10173) and its Implementing Rules and Regulations, I hereby consent to the collection, storage and processing by the Department of Agriculture and its partner implementing unit/agency for the Benteng Bigas Meron (BBM) na Program of my personal information declared herein for the purposes of the program. ",-1)])]),_:1}),(0,i.bF)(ct,{align:"right"},{default:(0,i.k6)(()=>[(0,i.bF)(lt,{label:"I Agree",color:"primary",onClick:t[26]||(t[26]=e=>l.bool.showConsentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),(0,i.bF)(mt,{modelValue:n.hasQrCode,"onUpdate:modelValue":t[28]||(t[28]=e=>n.hasQrCode=e),persistent:"",onHide:n.resetForm},{default:(0,i.k6)(()=>[(0,i.bF)(rt,{style:{"max-width":"660px",width:"90vw"}},{default:(0,i.k6)(()=>[(0,i.bF)(nt,{class:"row items-center q-pa-md bg-green-4 text-white"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",ee,[(0,i.bF)(ut,{src:d(),alt:"Logo 1",style:{width:"40px",height:"40px"},class:"q-mr-sm",contain:""}),(0,i.bF)(ut,{src:m(),alt:"Logo 2",style:{width:"40px",height:"50px"},class:"q-mr-sm",contain:""}),t[53]||(t[53]=(0,i.Lk)("div",{class:"shadow-outline-text"},"BENTENG BIGAS MERON NA!",-1))]),(0,i.bF)(pt),(0,i.bo)((0,i.bF)(lt,{icon:"close",flat:"",round:"",dense:"",onClick:n.resetForm},null,8,["onClick"]),[[gt]])]),_:1}),(0,i.bF)(nt,{class:"q-pa-lg"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",te,[l.qrCode?((0,i.uX)(),(0,i.Wv)(ut,{key:0,src:l.qrCode,alt:"QR Code",style:{width:"180px",height:"180px"}},null,8,["src"])):(0,i.Q3)("",!0),(0,i.Lk)("div",se," ID No: "+(0,r.v_)(e.beneficiaryId),1),(0,i.Lk)("div",ie,[(0,i.Lk)("div",oe,[(0,i.Lk)("div",le,[t[54]||(t[54]=(0,i.Lk)("div",{class:"label"},"LAST NAME:",-1)),(0,i.Lk)("div",ae,(0,r.v_)(l.form.lastName),1)]),(0,i.Lk)("div",re,[t[55]||(t[55]=(0,i.Lk)("div",{class:"label"},"FIRST NAME:",-1)),(0,i.Lk)("div",ne,(0,r.v_)(l.form.firstName),1)]),(0,i.Lk)("div",de,[t[56]||(t[56]=(0,i.Lk)("div",{class:"label"},"MIDDLE NAME:",-1)),(0,i.Lk)("div",ce,(0,r.v_)(l.form.middleName||"N/A"),1)]),(0,i.Lk)("div",me,[t[57]||(t[57]=(0,i.Lk)("div",{class:"label"},"SUFFIX:",-1)),(0,i.Lk)("div",ue,(0,r.v_)(l.form.suffix||"N/A"),1)])]),(0,i.Lk)("div",pe,[(0,i.Lk)("div",ge,[t[58]||(t[58]=(0,i.Lk)("div",{class:"label"},"BENEFICIARY TYPE:",-1)),(0,i.Lk)("div",he,(0,r.v_)(l.form?.beneficiaryType),1)]),(0,i.Lk)("div",be,[t[59]||(t[59]=(0,i.Lk)("div",{class:"label"},"BARANGAY:",-1)),(0,i.Lk)("div",fe,(0,r.v_)(l.form?.bgy_name||"N/A"),1)]),(0,i.Lk)("div",ve,[t[60]||(t[60]=(0,i.Lk)("div",{class:"label"},"CITY/MUNICIPALITY:",-1)),(0,i.Lk)("div",ye,(0,r.v_)(l.form?.mun_name||"N/A"),1)])])])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide"]),(0,i.bF)(mt,{modelValue:n.hasQrCode,"onUpdate:modelValue":t[29]||(t[29]=e=>n.hasQrCode=e),persistent:""},{default:(0,i.k6)(()=>[(0,i.bF)(rt,{style:{"max-width":"660px",width:"90vw"}},{default:(0,i.k6)(()=>[(0,i.bF)(nt,{class:"row items-center q-pa-md bg-green-4 text-white"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",ke,[(0,i.bF)(ut,{src:d(),alt:"Logo 1",style:{width:"40px",height:"40px"},class:"q-mr-sm",contain:""}),(0,i.bF)(ut,{src:m(),alt:"Logo 2",style:{width:"40px",height:"50px"},class:"q-mr-sm",contain:""}),t[61]||(t[61]=(0,i.Lk)("div",{class:"shadow-outline-text"},"BENTENG BIGAS MERON NA!",-1))]),(0,i.bF)(pt),(0,i.bo)((0,i.bF)(lt,{icon:"close",flat:"",round:"",dense:""},null,512),[[gt]])]),_:1}),(0,i.bF)(nt,{class:"q-pa-lg"},{default:(0,i.k6)(()=>[(0,i.Lk)("div",Le,[l.qrCode?((0,i.uX)(),(0,i.Wv)(ut,{key:0,src:l.qrCode,alt:"QR Code",style:{width:"180px",height:"180px"}},null,8,["src"])):(0,i.Q3)("",!0),(0,i.Lk)("div",xe," BENEFICIARY NO: "+(0,r.v_)(e.beneficiaryId),1),(0,i.Lk)("div",Ce,[(0,i.Lk)("div",we,[(0,i.Lk)("div",qe,[t[62]||(t[62]=(0,i.Lk)("div",{class:"label"},"LAST NAME:",-1)),(0,i.Lk)("div",Fe,(0,r.v_)(l.form.lastName),1)]),(0,i.Lk)("div",Ne,[t[63]||(t[63]=(0,i.Lk)("div",{class:"label"},"FIRST NAME:",-1)),(0,i.Lk)("div",Ae,(0,r.v_)(l.form.firstName),1)]),(0,i.Lk)("div",Ve,[t[64]||(t[64]=(0,i.Lk)("div",{class:"label"},"MIDDLE NAME:",-1)),(0,i.Lk)("div",Ie,(0,r.v_)(l.form.middleName||"N/A"),1)]),(0,i.Lk)("div",_e,[t[65]||(t[65]=(0,i.Lk)("div",{class:"label"},"SUFFIX:",-1)),(0,i.Lk)("div",Se,(0,r.v_)(l.form.suffix||"N/A"),1)]),(0,i.Lk)("div",Ee,[t[66]||(t[66]=(0,i.Lk)("div",{class:"label"},"BIRTH MONTH/YEAR:",-1)),(0,i.Lk)("div",Re,(0,r.v_)(l.form.birth_month+" "+l.form.birth_year||"N/A"),1)]),(0,i.Lk)("div",Me,[t[67]||(t[67]=(0,i.Lk)("div",{class:"label"},"BENEFICIARY TYPE:",-1)),(0,i.Lk)("div",Pe,(0,r.v_)(l.form.beneficiaryType),1)])]),(0,i.Lk)("div",Be,[(0,i.Lk)("div",Te,[t[68]||(t[68]=(0,i.Lk)("div",{class:"label"},"CROP AREA:",-1)),(0,i.Lk)("div",Ue,(0,r.v_)(e.userData.crop_area||"N/A"),1)]),(0,i.Lk)("div",De,[t[69]||(t[69]=(0,i.Lk)("div",{class:"label"},"REGION:",-1)),(0,i.Lk)("div",Qe,(0,r.v_)(e.userData.region),1)]),(0,i.Lk)("div",We,[t[70]||(t[70]=(0,i.Lk)("div",{class:"label"},"PROVINCE:",-1)),(0,i.Lk)("div",Oe,(0,r.v_)(e.userData.province),1)]),(0,i.Lk)("div",je,[t[71]||(t[71]=(0,i.Lk)("div",{class:"label"},"CITY/MUNICIPALITY:",-1)),(0,i.Lk)("div",Ye,(0,r.v_)(e.userData.mun_name||"N/A"),1)]),(0,i.Lk)("div",Xe,[t[72]||(t[72]=(0,i.Lk)("div",{class:"label"},"BARANGAY:",-1)),(0,i.Lk)("div",$e,(0,r.v_)(e.userData.bgy_name||"N/A"),1)])])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}s(310),s(95),s(3194);var Ge=s(7007),He=s.n(Ge),Ke=s(439),Je=s.n(Ke);function Ze(e,t,s,o,l,a){const r=(0,i.g2)("q-item-section"),n=(0,i.g2)("q-item"),d=(0,i.g2)("q-select");return(0,i.uX)(),(0,i.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Region",options:a.limitedOptions,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"reg_name","option-value":"reg_code1","use-input":"","fill-input":"","hide-selected":"",onFilter:a.filterFn,loading:l.loading,placeholder:"Type region to search",rules:[e=>null!=e&&""!==e||"This field is required."]},{"no-option":(0,i.k6)(()=>[(0,i.bF)(n,null,{default:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-grey"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.eW)(" No suggestions found. ",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","onFilter","loading","rules"])}const et={name:"RegionSuggestion",props:{initialValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e}},mounted(){this.loadOptions("")},methods:{async loadOptions(e){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchRegion",{search:e});console.log("search Region",t),Array.isArray(t)?this.options=t.sort((e,t)=>e.reg_name.localeCompare(t.reg_name)):this.options=[]}catch(e){console.error("Error searching regions:",e),this.$q.notify({message:"Error searching regions",position:"top",type:"negative"}),this.options=[]}finally{this.loading=!1}},async filterFn(e,t){if(e&&""!==e.trim()){this.loading=!0;try{const s=await this.$store.dispatch("registration/searchRegion",{search:e});t(()=>{Array.isArray(s)?this.options=s.sort((e,t)=>e.reg_name.localeCompare(t.reg_name)):this.options=[]})}catch(e){console.error("Error searching regions:",e),this.$q.notify({message:"Error searching regions",position:"top",type:"negative"}),t(()=>{this.options=[]})}finally{this.loading=!1}}else t(()=>{this.options=[...this.options]})}},computed:{limitedOptions(){return this.options.slice(0,10)}}};var tt=s(2807),st=s(5188),it=s(124),ot=s(5173),lt=s(8582),at=s.n(lt);const rt=(0,tt.A)(et,[["render",Ze]]),nt=rt;function dt(e,t,s,o,l,a){const r=(0,i.g2)("q-item-section"),n=(0,i.g2)("q-item"),d=(0,i.g2)("q-select");return(0,i.uX)(),(0,i.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Province",options:a.limitedOptions,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"prov_name","option-value":"prov_code1","use-input":"","fill-input":"","hide-selected":"",disable:s.disabled,onFilter:a.filterFn,loading:l.loading,placeholder:"Type province to search",rules:[e=>!!(s.disabled||null!=e&&""!==e)||"This field is required."]},{"no-option":(0,i.k6)(()=>[(0,i.bF)(n,null,{default:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-grey"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.eW)(" No suggestions found. ",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","disable","onFilter","loading","rules"])}at()(et,"components",{QSelect:st.A,QItem:it.A,QItemSection:ot.A});const ct={name:"ProvinceSuggestion",props:{regionCode:{type:String,required:!0},initialValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e},regionCode:{immediate:!0,handler(){this.loadOptions(""),this.value=""}}},methods:{async loadOptions(e){if(this.regionCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchProvince",{search:e,region_code:this.regionCode});this.options=Array.isArray(t)?t:[]}catch(e){console.error("Error fetching provinces:",e),this.$q.notify({message:"Error searching provinces",position:"top",type:"negative"}),this.options=[]}finally{this.loading=!1}}else this.options=[]},async filterFn(e,t){if(e&&""!==e.trim()){this.loading=!0;try{const s=await this.$store.dispatch("registration/searchProvince",{search:e,region_code:this.regionCode});t(()=>{this.options=Array.isArray(s)?s:[]})}catch(e){console.error("Error searching provinces:",e),this.$q.notify({message:"Error searching provinces",position:"top",type:"negative"}),t(()=>{this.options=[]})}finally{this.loading=!1}}else t(()=>{this.options=[...this.options]})}},computed:{limitedOptions(){return this.options.slice(0,10)}}},mt=(0,tt.A)(ct,[["render",dt]]),ut=mt;function pt(e,t,s,o,l,a){const r=(0,i.g2)("q-item-section"),n=(0,i.g2)("q-item"),d=(0,i.g2)("q-select");return(0,i.uX)(),(0,i.Wv)(d,{outlined:"",dense:"","use-input":"","fill-input":"","hide-selected":"","input-debounce":"500",label:"Select City",modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),options:l.options,"option-label":"mun_name","option-value":"mun_code1",loading:l.loading,rules:[e=>!!e||"City is required"],disable:s.disabled,placeholder:"Type to search cities",onFilter:a.filterFn},{"no-option":(0,i.k6)(()=>[(0,i.bF)(n,null,{default:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-grey"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.eW)("No cities found.",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","loading","rules","disable","onFilter"])}at()(ct,"components",{QSelect:st.A,QItem:it.A,QItemSection:ot.A});const gt={name:"CitySuggestion",props:{regionCode:{type:String,required:!0},provinceCode:{type:String,required:!0},modelValue:{type:[String,Object],default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.modelValue,options:[],loading:!1}},watch:{modelValue(e){this.value=e},value(e){this.$emit("update:modelValue",e)},provinceCode:{immediate:!0,handler(e,t){e&&(setTimeout(()=>{this.loadCities("")},200),t&&e!==t&&(this.value=""))}}},methods:{async loadCities(e){if(this.regionCode&&this.provinceCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchCity",{search:e,provinceCode:this.provinceCode,regionCode:this.regionCode});this.options=Array.isArray(t)?t:[]}catch(e){console.error("Error fetching cities:",e),this.options=[]}finally{this.loading=!1}}else this.options=[]},filterFn(e,t){t(()=>{this.loadCities(e||"")})}}},ht=(0,tt.A)(gt,[["render",pt]]),bt=ht;function ft(e,t,s,o,l,a){const r=(0,i.g2)("q-item-section"),n=(0,i.g2)("q-item"),d=(0,i.g2)("q-select");return(0,i.uX)(),(0,i.Wv)(d,{outlined:"",dense:"","input-debounce":"500",label:"Select Barangay",options:l.options,modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),"option-label":"bgy_name","option-value":"bgy_code1","use-input":"","fill-input":"","hide-selected":"",loading:l.loading,onFilter:a.filterFn,rules:[e=>!!e||"Barangay is required"],placeholder:"Type to search barangays",disable:s.disabled},{"no-option":(0,i.k6)(()=>[(0,i.bF)(n,null,{default:(0,i.k6)(()=>[(0,i.bF)(r,{class:"text-grey"},{default:(0,i.k6)(()=>[...t[1]||(t[1]=[(0,i.eW)("No barangays found.",-1)])]),_:1})]),_:1})]),_:1},8,["options","modelValue","loading","onFilter","rules","disable"])}at()(gt,"components",{QSelect:st.A,QItem:it.A,QItemSection:ot.A});const vt={name:"BarangaySuggestion",props:{regionCode:{type:String,default:""},provinceCode:{type:String,default:""},cityCode:{type:String,default:""},modelValue:{type:[String,Object],default:()=>({})},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{value:this.initialValue,options:[],loading:!1}},watch:{value(e){this.$emit("update:modelValue",e)},initialValue(e){this.value=e},cityCode:{immediate:!0,handler(){this.loadBarangays(""),this.value=""}}},methods:{async loadBarangays(e){if(this.cityCode){this.loading=!0;try{const t=await this.$store.dispatch("registration/searchBarangay",{search:e,regionCode:this.regionCode,provinceCode:this.provinceCode,cityCode:this.cityCode});this.options=Array.isArray(t)?t:[]}catch(e){this.options=[],console.error("Error fetching barangays:",e)}finally{this.loading=!1}}else this.options=[]},filterFn(e,t){t(()=>{this.loadBarangays(e||"")})}}},yt=(0,tt.A)(vt,[["render",ft]]),kt=yt;at()(vt,"components",{QSelect:st.A,QItem:it.A,QItemSection:ot.A}),He().vfs=Je().vfs;const Lt={name:"KYCRegister",components:{RegionSuggestion:nt,ProvinceSuggestion:ut,CitySuggestion:bt,BarangaySuggestion:kt},mounted(){this.bool.showConsentDialog=!0},data(){return{selectedRegionCode:"",selectedProvinceCode:"",selectedCityCode:"",selectedBarangayCode:"",bool:{showConsentDialog:!1},beneficiaryTypeOptions:["SENIOR CITIZEN","PWD","SOLO PARENT","4P'S BENEFICIARY","MINIMUM WAGE EARNER","INDIGENOUS PEOPLE","FARMER","FARMWORKER","FISHERFOLK","PUV DRIVER","OTHER BENEFICIARY"],isSubmitting:!1,form:{lastName:"",firstName:"",middleName:"",suffix:"",dateofbirth:"",mobileNo:"",sex:"",region:"",province:"",city:"",barangay:"",fullAddress:"",beneficiaryType:null,idTypeNumber:null,photo:null,companyId:null,employmentCert:null,beneficiaryIdFile:null,motherLastName:"",motherFirstName:"",motherMiddleName:"",idPresented:"",noMiddleName:!1,registrationStatus:2},qrCode:null,showCamera:!1,stream:null,showProfileCamera:!1,showIDCamera:!1,showPdfDialog:!1,pdfUrl:null}},watch:{showCamera(e){e?this.startCamera():this.stopCamera()},selectedRegionCode(e){this.selectedProvinceCode="",this.selectedCityCode=""},selectedProvinceCode(e){this.selectedCityCode=""}},computed:{hasQrCode(){return null!==this.qrCode},isCityDisabled(){return!this.form.region&&!this.form.province},isFormValid(){return this.form.lastName&&this.form.firstName&&this.form.dateofbirth&&this.form.sex&&this.form.region&&this.form.province&&this.form.city&&this.form.barangay&&this.form.fullAddress&&this.form.beneficiaryType&&this.form.idTypeNumber&&this.form.photo}},methods:{handleNoMiddleName(){this.form.noMiddleName&&(this.form.middleName="")},resetForm(){this.form={firstName:"",lastName:"",middleName:"",suffix:"",beneficiaryType:"",bgy_name:"",mun_name:""},this.qrCode=null,this.beneficiaryId=null,this.hasQrCode=!1},onRegionChange(e){this.initialRegion=e},handleProvincesChange(e){this.posts.province=e.val,this.shortCode=e.shortCode},handleCitiesChange(e){this.posts.city=e},async startCamera(){try{const e={video:{facingMode:{exact:"environment"}},audio:!1};this.stream=await navigator.mediaDevices.getUserMedia(e)}catch(e){console.warn("Back camera not available, using front camera:",e);const t={video:{facingMode:"user"},audio:!1};this.stream=await navigator.mediaDevices.getUserMedia(t)}const e=this.$refs.video;e&&(e.srcObject=this.stream,await e.play())},stopCamera(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null)},capturePhoto(){const e=this.$refs.video,t=this.$refs.canvas,s=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,s.drawImage(e,0,0,t.width,t.height),this.form.photo=t.toDataURL("image/jpeg"),this.showCamera=!1,this.stopCamera()},async handleSubmit(){},async printId(){const{lastName:e,firstName:t,middleName:i,suffix:o,dateofbirth:l,mobileNo:a,sex:r,region:n,province:d,city:c,barangay:m,fullAddress:u,beneficiaryType:p,photo:g}=this.form,h=await this.getBase64FromUrl(s(523)),b=await this.getBase64FromUrl(s(3817)),f=242.65,v=153,y={info:{title:`${e}, ${t} (P20 ID)`,author:"DA-ICTS"},pageSize:{width:f,height:v},pageMargins:[2,5,2,5],background:[{image:background,width:f,height:v,opacity:.15}],content:[{columns:[{columns:[{image:h,width:30,height:30},{image:b,width:25,height:25,margin:[5,5,0,0]}],width:80},{text:"P20 RICE PROGRAM ACCESS CARD",style:"header",alignment:"center",width:"*",margin:[0,10,0,0],pageBreak:"avoid"}]},{canvas:[{type:"line",x1:0,y1:5,x2:f-20,y2:5,lineWidth:1,color:"#ccc"}],margin:[0,8,0,8],pageBreak:"avoid"},{columns:[{width:60,pageBreak:"avoid",stack:[{image:g,width:50,height:155,fit:[50,85],margin:[5,0,0,5]},{text:`ID No: ${this.beneficiaryId||""}`,style:"label",fontSize:6,alignment:"center",margin:[2,0,0,0]}]},{width:"*",table:{widths:[75,"*"],body:[[{text:"LAST NAME:",style:"label",fontSize:6,noWrap:!0},{text:e,fontSize:6}],[{text:"FIRST NAME:",style:"label",fontSize:6,noWrap:!0},{text:t,fontSize:6}],[{text:"MIDDLE NAME:",style:"label",fontSize:6,noWrap:!0},{text:i||"N/A",fontSize:6}],[{text:"SUFFIX:",style:"label",fontSize:6,noWrap:!0},{text:o||"N/A",fontSize:6}],[{text:"BENEFICIARY TYPE:",style:"label",fontSize:6,noWrap:!0},{text:p,fontSize:6}],[{text:"BARANGAY:",style:"label",fontSize:6,noWrap:!0},{text:m?.bgy_name,fontSize:6}],[{text:"CITY/MUNICIPALITY:",style:"label",fontSize:6,noWrap:!0},{text:c?.mun_name,fontSize:6}]]},layout:{hLineWidth:()=>0,vLineWidth:()=>0,paddingLeft:()=>0,paddingRight:()=>0,paddingTop:()=>2,paddingBottom:()=>2},margin:[5,0,0,0],pageBreak:"avoid"},this.qrCode?{image:this.qrCode,width:60,height:75,margin:[5,0,0,0],fit:[50,75],pageBreak:"avoid"}:{width:0}]}],styles:{header:{fontSize:8,bold:!0,color:"#37474F"},label:{bold:!0,fontSize:6}},defaultStyle:{fontSize:6,alignment:"left",color:"#37474F"}};He().createPdf(y).open()},getBase64FromUrl(e){return new Promise((t,s)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{const e=document.createElement("canvas");e.width=i.width,e.height=i.height;const s=e.getContext("2d");s.drawImage(i,0,0),t(e.toDataURL("image/png"))},i.onerror=s,i.src=e})}}};var xt=s(3316),Ct=s(9200),wt=s(7837),qt=s(7022),Ft=s(492),Nt=s(8975),At=s(8462),Vt=s(9980),It=s(7878),_t=s(1693),St=s(558),Et=s(4189),Rt=s(2669),Mt=s(6031),Pt=s(2665),Bt=s(3676),Tt=s(8672);const Ut=(0,tt.A)(Lt,[["render",ze]]),Dt=Ut;at()(Lt,"components",{QCard:xt.A,QForm:Ct.A,QInput:wt.A,QCheckbox:qt.A,QIcon:Ft.A,QPopupProxy:Nt.A,QDate:At.A,QSelect:st.A,QFile:Vt.A,QRadio:It.A,QBtn:_t.A,QDialog:St.A,QCardSection:Et.A,QCardActions:Rt.A,QBtnGroup:Mt.A,QImg:Pt.A,QSpace:Bt.A}),at()(Lt,"directives",{ClosePopup:Tt.A});const Qt=(0,i.pM)({name:"IndexPage",components:{RegisterBeneficiaryForm:Dt}}),Wt=(0,tt.A)(Qt,[["render",l]]),Ot=Wt}}]);